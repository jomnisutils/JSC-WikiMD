{"version":3,"sources":["webpack://fivestars/webpack/universalModuleDefinition","webpack://fivestars/webpack/bootstrap","webpack://fivestars/./src/main.ts","webpack://fivestars/./src/fivestars.ts","webpack://fivestars/./src/omnis/index.ts","webpack://fivestars/./src/omnis/JSONComponent.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","fivestars_1","FiveStarsJSONComponent","extendStatics","__extends","this","b","setPrototypeOf","__proto__","Array","__","constructor","FiveStarsProperties","omnis_1","_super","base","_this","mDefaultText","mmaxrating","mcurrentrating","mText","render","elem","document","createElement","classList","add","ul","appendChild","addClickHandlers","setDataProps","dataProps","maxrating","currentrating","rating_elem","getClientElem","querySelector","ratingObj","rating","setProperty","handleClick","pX","pY","console","log","canSendEvent","eBaseEvent","evClick","eventParamsAdd","numStars","getRating","sendEvent","getCanAssign","prop","handled","status","eBaseProperties","text","innerHTML","setRating","getProperty","updateCtrl","what","row","col","style","lineHeight","height","textAlign","dataname","getData","mData","sizeChanged","JSONComponent","JSONComponent_1","delete_class_inst","initControl","form","rowCtrl","rowNumber","rowNumer","client_elem","dataprops","getAttribute","datapropsobj","JSON","parse","component","update","usesTouch","ontouchstart","mEventFunction","ontouchend","onclick","handleEvent","event","isEnabled","type","offsetX","offsetY","lastTouch","Date","getTime","touchStartPos","x","changedTouches0","clientX","y","clientY","touchWithinRange"],"mappings":"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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"fivestars\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fivestars\"] = factory();\n\telse\n\t\troot[\"fivestars\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar fivestars_1 = require(\"./fivestars\");\nexports.FiveStarsJSONComponent = fivestars_1.FiveStarsJSONComponent;\n// import EasyMDE from \"easymde\"\n// import \"easymde/dist/easymde.min.css\"\n// import mermaid from \"mermaid\"\n// import { renderMarkdown } from \"./renderer\"\n// const sample_graph = \"```mermaid\\n graph LR \\nA-->B\"\n// const TEST_MARKDOWN = `\n// # Ciao mondo\n// * asd\n// * asd\n// **asdasd** _asd_\n// ![asd](https://avatars1.githubusercontent.com/u/14985020?s=400&v=4)\n// <div class=\"mermaid\">\n// graph LR\n// A-->B\n// </div>\n// <div class=\"mermaid\">\n// gantt\n// title A Gantt Diagram\n// dateFormat YYYY-MM-DD\n// section Section\n// A task :a1, 2014-01-01, 30d\n// Another task :after a1 , 20d\n// section Another\n// Task in sec :2014-01-12 , 12d\n// another task : 24d\n// </div>\n// ${sample_graph}\n// `\n// // renderMarkdown(TEST_MARKDOWN).then(html => {\n// //     console.log(html)\n// //     const div = document.createElement(\"div\")\n// //     div.innerHTML = html\n// //     document.body.appendChild(div)\n// //     mermaid.initialize({\n// //         theme: \"forest\",\n// //         startOnLoad: false,\n// //     })\n// // })\n// mermaid.initialize({\n//     theme: \"forest\",\n// })\n// let editor: EasyMDE\n// const editorElement = document.getElementById(\"editor\")\n// if (editorElement) {\n//     editor = new EasyMDE({\n//         element: editorElement,\n//         autoDownloadFontAwesome: true,\n//         spellChecker: false,\n//         previewRender: function(plainText, preview) {\n//             // Async method\n//             // setTimeout(function() {\n//             //     preview.innerHTML = plainText\n//             // }, 250)\n//             renderMarkdown(plainText).then(html => {\n//                 preview.innerHTML = html\n//                 setTimeout(() => {\n//                     mermaid.init(\".mermaid\")\n//                 }, 2000)\n//             })\n//             return \"Loading...\"\n//         },\n//     })\n//     editor.value(`\n// # Ciao!\n// * asd\n// * asd\n// **asdasd** _asd_\n// ![asd](https://avatars1.githubusercontent.com/u/14985020?s=400&v=4)\n// <div class=\"mermaid\">\n// graph LR\n// A-->B\n// </div>`)\n// }\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar omnis_1 = require(\"./omnis\");\nvar FiveStarsProperties;\n(function (FiveStarsProperties) {\n    FiveStarsProperties[\"maxrating\"] = \"$maxrating\";\n    FiveStarsProperties[\"currentrating\"] = \"$currentrating\";\n})(FiveStarsProperties || (FiveStarsProperties = {}));\nvar FiveStarsJSONComponent = /** @class */ (function (_super) {\n    __extends(FiveStarsJSONComponent, _super);\n    function FiveStarsJSONComponent(base) {\n        var _this = _super.call(this, base) || this;\n        _this.mDefaultText = \"EMPTY\";\n        _this.mmaxrating = 0;\n        _this.mcurrentrating = 0;\n        _this.mText = \"\";\n        // initialize class specific stuff\n        _this.mDefaultText = \"EMPTY\";\n        _this.mmaxrating = 0;\n        _this.mcurrentrating = 0;\n        return _this;\n    }\n    FiveStarsJSONComponent.prototype.render = function () {\n        var elem = document.createElement(\"div\");\n        elem.classList.add(\"fiveStars__img\");\n        var ul = document.createElement(\"ul\");\n        ul.classList.add(\"c-rating\");\n        elem.appendChild(ul);\n        this.addClickHandlers(elem);\n        return elem;\n    };\n    FiveStarsJSONComponent.prototype.setDataProps = function (dataProps) {\n        var maxrating = dataProps.maxrating, currentrating = dataProps.currentrating;\n        var client_elem = this.base.getClientElem();\n        var rating_elem = client_elem.querySelector(\".c-rating\");\n        this.ratingObj = rating(rating_elem, 0, maxrating);\n        this.setProperty(FiveStarsProperties.maxrating, maxrating);\n        this.setProperty(FiveStarsProperties.currentrating, currentrating);\n    };\n    FiveStarsJSONComponent.prototype.handleClick = function (pX, pY) {\n        console.log(\"handle click\");\n        if (this.base.canSendEvent(eBaseEvent.evClick)) {\n            this.base.eventParamsAdd(\"pXPos\", pX);\n            this.base.eventParamsAdd(\"pYPos\", pY);\n            // add these lines to the javascript generated from the JSON editor\n            var numStars = this.ratingObj.getRating(); //get the selected number of stars from control\n            this.base.eventParamsAdd(\"pNumStart\", numStars); //send this to Omnis, match the Omnis event parameter name\n            this.base.sendEvent(eBaseEvent.evClick);\n        }\n        return true;\n    };\n    /**\n     * Function to get $canassign for a property of an object\n     * @param prop    The Omnis property number\n     * @returns   Whether the passed property can be assigned to.\n     */\n    FiveStarsJSONComponent.prototype.getCanAssign = function (prop) {\n        var handled, status = false;\n        switch (prop) {\n            case eBaseProperties.text:\n            case FiveStarsProperties.maxrating:\n            case FiveStarsProperties.currentrating:\n                handled = true;\n                status = true;\n                break;\n            default:\n                handled = false;\n        }\n        return { handled: handled, status: status };\n    };\n    FiveStarsJSONComponent.prototype.setProperty = function (prop, value) {\n        if (!this.getCanAssign(prop)) {\n            // check whether the value can be assigned to\n            return { handled: true, status: false };\n        }\n        var handled = true;\n        switch (prop) {\n            case eBaseProperties.text: // Set the text as appropriate for this control.\n                this.mText = value;\n                var client_elem = this.base.getClientElem();\n                client_elem.innerHTML = value;\n                break;\n            case FiveStarsProperties.maxrating:\n                this.mmaxrating = value;\n                break;\n            case FiveStarsProperties.currentrating:\n                this.mcurrentrating = value;\n                // add this line to the javascript generated from the JSON editor\n                this.ratingObj.setRating(this.mcurrentrating); //update the number of stars displayed\n                break;\n            default:\n                handled = false;\n        }\n        return { handled: handled, status: true };\n    };\n    /**\n     * Called to get the value of an Omnis property\n     *\n     * @param prop    The Omnis property number\n     * @returns {var}       The property's value\n     */\n    FiveStarsJSONComponent.prototype.getProperty = function (prop) {\n        var handled = true;\n        var value = null;\n        switch (prop) {\n            case eBaseProperties.text:\n                value = this.mText;\n                break;\n            case FiveStarsProperties.maxrating:\n                value = this.mmaxrating;\n                break;\n            case FiveStarsProperties.currentrating:\n                value = this.mcurrentrating;\n                break;\n            default:\n                handled = false;\n        }\n        return {\n            handled: handled,\n            value: value,\n        };\n    };\n    FiveStarsJSONComponent.prototype.updateCtrl = function (what, row, col) {\n        var elem = this.base.getClientElem();\n        // center the text vertically:\n        elem.style.lineHeight = elem.style.height;\n        elem.style.textAlign = \"center\";\n        // read $dataname value and display in control\n        var dataname = this.base.getData();\n        if (this.mData != dataname) {\n            // only execute the following code if the value of the $dataname variable has changed.\n            this.mData = dataname;\n            // update these lines to the javascript generated from the JSON editor\n            if (dataname || dataname == 0) {\n                // if value of dataname is 0\n                //      elem.innerHTML = this.mData;    // do not show dataname value else it blats over the stars\n            }\n            else {\n                elem.innerHTML = this.mDefaultText;\n            }\n        }\n    };\n    FiveStarsJSONComponent.prototype.sizeChanged = function () {\n        // center any text vertically\n        var elem = this.base.getClientElem();\n        elem.style.lineHeight = elem.style.height;\n    };\n    return FiveStarsJSONComponent;\n}(omnis_1.JSONComponent));\nexports.FiveStarsJSONComponent = FiveStarsJSONComponent;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar JSONComponent_1 = require(\"./JSONComponent\");\nexports.JSONComponent = JSONComponent_1.JSONComponent;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar JSONComponent = /** @class */ (function () {\n    function JSONComponent(base) {\n        this.base = base;\n    }\n    JSONComponent.prototype.delete_class_inst = function () { };\n    /**\n     * Initializes the control instance from element attributes.\n     * Must be called after control is constructed by the constructor.\n     * @param form      Reference to the parent form.\n     * @param elem      The html element the control belongs to.\n     * @param rowCtrl   Pointer to a complex grid control if this control belongs to a cgrid.\n     * @param rowNumber The row number this control belongs to if it belongs to a cgrid.\n     * @returns {boolean}   True if the control is a container.\n     */\n    JSONComponent.prototype.initControl = function (form, elem, rowCtrl, rowNumber) {\n        this.form = form;\n        this.elem = elem;\n        this.rowCtrl = rowCtrl;\n        this.rowNumer = rowNumber;\n        var client_elem = this.base.getClientElem();\n        var dataprops = client_elem.getAttribute(\"data-props\") || \"\";\n        var datapropsobj = JSON.parse(dataprops);\n        var component = this.render();\n        client_elem.appendChild(component);\n        console.log(\"data-props\", datapropsobj);\n        this.setDataProps(datapropsobj);\n        this.base.update();\n        // return true if our control is a container and the\n        // children require installing via this.form.InstallChildren\n        return false;\n    };\n    JSONComponent.prototype.setDataProps = function (dataProps) { };\n    /**\n     * Adds a click handler if the device doesn't support touch, or equivalent touch handlers if it does.\n     * @param elem Element to add a click/touch handler to\n     */\n    JSONComponent.prototype.addClickHandlers = function (elem) {\n        if (!this.base.usesTouch) {\n            elem.onclick = this.base.mEventFunction;\n        }\n        else {\n            elem.ontouchstart = this.base.mEventFunction;\n            elem.ontouchend = this.base.mEventFunction;\n        }\n    };\n    JSONComponent.prototype.handleEvent = function (event) {\n        if (!this.base.isEnabled()) {\n            return true; // If the control is disabled, don't process the event.\n        }\n        switch (event.type) {\n            case \"click\":\n                return this.handleClick(event.offsetX, event.offsetY);\n            case \"touchstart\":\n                this.base.lastTouch = new Date().getTime(); // Note the time of the touch start.\n                this.base.touchStartPos = {\n                    x: event.changedTouches0.clientX,\n                    y: event.changedTouches0.clientY,\n                }; // Note the starting position of the touch.\n                break;\n            case \"touchend\":\n                var time = new Date().getTime();\n                if (time - this.base.lastTouch < 500) {\n                    //Treat as a click if less than 500ms have elapsed since touchstart\n                    if (touchWithinRange(this.base.touchStartPos, event.changedTouches0, 20)) {\n                        //Only treat as a click if less than 20 pixels have been scrolled.\n                        return this.handleClick(event.changedTouches0.offsetX, event.changedTouches0.offsetY);\n                    }\n                }\n                break;\n            default:\n        }\n        return null;\n    };\n    JSONComponent.prototype.handleClick = function (x, y) {\n        return true;\n    };\n    /**\n     * The control's data has changed. The contents may need to be updated.\n     *\n     * @param {String} what    Specifies which part of the data has changed:\n     *                 \"\"              - The entire data has changed\n     *                 \"#COL\"          - A single column in the $dataname list (specified by 'row' and 'col') or a row's column (specified by 'col')\n     *                 \"#LSEL\"         - The selected line of the $dataname list has changed (specified by 'row')\n     *                 \"#L\"            - The current line of the $dataname list has changed  (specified by 'row')\n     *                 \"#LSEL_ALL\"     - All lines in the $dataname list have been selected.\n     *                 \"#NCELL\"        - An individual cell in a (nested) list. In this case, 'row' is an array of row & column numbers.\n     *                                  of the form \"row1,col1,row2,col2,...\"\n     *\n     * @param {Number} row             If specified, the row number in a list (range = 1..n) to which the change pertains.\n     *                                 If 'what' is \"#NCELL\", this must be an array of row and col numbers. Optionally, a modifier may be\n     *                                 added as the final array element, to change which part of the nested data is to be changed. (Currently only \"#L\" is supported)\n     *\n     * @param {Number|String} col      If specified, the column in a list row (range = 1..n or name) to which the change pertains.\n     */\n    JSONComponent.prototype.updateCtrl = function (what, row, col) { };\n    JSONComponent.prototype.sizeChanged = function () { };\n    return JSONComponent;\n}());\nexports.JSONComponent = JSONComponent;\n"],"sourceRoot":""}